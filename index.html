<html>
	<title>Transition from language to language - how hard?</title>
	<meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7">
	<meta charset="UTF-8">
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.12.0/vis.min.js"></script>

	<body>
		<div id="graph">
		</div>
		<script type="text/javascript">
			function render(dataset){
				var container = document.getElementById('graph');
				var options = {
					nodes:{
						shape: 'image',
						scaling:{
							min: 24,
							max: 36
						},
						shadow: {
							enabled: true,
							size: 3
						}
					},
					edges:{
						scaling:{
							min: 1,
							max: 8,
							label:{
								min:12,
								max:24
							}
						}
					},
					interaction:{
						hover: true
					},
					physics:{
						stabilization:{
							fit: true
						}
					}
				}

				// Attach icons
				dataset.nodes = dataset.nodes.map(function(n){
					n.image = 'images/' + n.label.replace('#','sharp') + '-icon.png';
					return n;
				})

				// Highlight shades of edges
				dataset.edges = dataset.edges.map(function(e){
					if (e.value==1) {
						e.color = { color: '#CECECE'}
						e.length = 100;
					}
					else if (e.value==5){
						e.color = { color: '#BAAAAA'}
						e.length = 150;
					}
					else if (e.value>=100){
						e.color = { color: '#BB2200'}
						e.length = 500;
						e.arrows.scaleFactor = 1.2;
					}
					return e;
				})

				var g = new vis.Network(container, dataset, options);
			}

			$.getJSON('data/language-transitions.json', render);
		</script>
	</body>
</html>